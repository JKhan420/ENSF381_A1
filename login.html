<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Add meta tags, title, and link to styles.css here -->
    <meta charset="UTF-8">
    <meta name="description" content="Assignment 1/3 ENSF381">
    <meta name="keywords" content="HTML Web Development">
    <meta name="author" content="Junaid Khan, Joshua Geng">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <title>Login</title>
</head>
<body>
    <header class="index-header">
        <!-- Logo and website name go here -->
        <h3><img width="40 px" src="images/logo.jpg"></h3>
        <h3>paidionerastas.com</h3>
    </header>
    <div class="index-nav">
        <!-- Navigation links go here -->
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="login.html" class="active">Login</a></li>
            <li><a href="contacts.html">Contacts</a></li>
        </ul>
    </div>
    <main>
        <!-- Login Form Section -->
        <section class="login-form">
            <!-- Username Field -->
            <label>Username:</label>
            <input type="text" id="username" name="username" placeholder="Enter your username">
            <br>
            <!-- Password Field (masked) -->
            <label>Password:</label>
            <input type="password" id="password" name="password" placeholder="Enter your password">
            <br>
            <!-- Login Button -->
            <button id="loginButton">Login</button>
            <br>
            <!-- Link to Sign Up Page -->
            <a href="signup.html">Sign up here</a>
        </section>
    </main>
    <!-- Message Box Container -->
    <div id="messageBox">
        <p></p>
    </div>
    <footer class='index-footer'>
        <!-- Copyright notice goes here -->
        <p>
            Â© Paidionerastas All Rights Reserved. 
            <br>
            <i>Unauthorized duplication is a violation of applicable laws.</i>
        </p>
    </footer>
    <script>
        document.getElementById("loginButton").addEventListener("click", function() {
            event.preventDefault(); // Prevent form submission/reloading the page

            const usernameInput = document.getElementById('username').value;
            const passwordInput = document.getElementById('password').value;

            fetch('https://jsonplaceholder.typicode.com/users')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    const user = data.find(user => user.username === usernameInput && user.email === passwordInput);
                    displayMessage(user ? 'Success! Login valid.' : 'Error: Invalid username or password.');
                })
                .catch(error => {
                    console.error('There has been a problem with your fetch operation:', error);
                    displayMessage('Error: API call was unsuccessful.');
                });
        });

        function displayMessage(message) {
            let messageBox = document.getElementById('messageBox');
            if (!messageBox) {
                messageBox = document.createElement('div');
                messageBox.id = 'messageBox';
                document.body.appendChild(messageBox);
            }
            messageBox.style.display = 'block'; // Show the message box
            messageBox.querySelector('p').innerHTML = message;
        }
    </script>
</body>
</html>
